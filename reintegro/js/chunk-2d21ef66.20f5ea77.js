(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21ef66"],{d895:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl",attrs:{elevation:"7"}},[a("v-card-title",[a("v-spacer")],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.dataReintegro,search:t.search,"sort-by":"FechaRegistro","hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-snackbar",{attrs:{color:"success",outlined:"",rounded:"pill"},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[a("v-btn",t._b({attrs:{color:"color",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" Cerrar ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" ")]),a("div",{staticClass:"text-center"},[a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1),a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Solicitudes de Reintegro")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("h4",[t._v("Total de Registros: "+t._s(t.totalRegistros))]),a("v-spacer"),a("v-autocomplete",{attrs:{items:t.dataStatus,outlined:"",dense:"",label:"Estado","persistent-hint":"","item-text":t.concat,"item-value":"CodEstado","prepend-icon":t.icons.mdiMagnify,clearable:""},on:{input:function(e){return t.filtrar()}},model:{value:t.statusCodeSol,callback:function(e){t.statusCodeSol=e},expression:"statusCodeSol"}}),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-icon",{attrs:{size:"45px"},on:{click:function(e){return t.getReintegro()}}},[t._v(" "+t._s(t.icons.mdiRefreshCircle)+" ")]),a("v-col",{attrs:{cols:"auto"}},[a("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"1500"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-card",{staticClass:"rounded-xl",attrs:{elevation:"7"}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[t._v(" Detalles de la Solicitud ")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-data-table",{staticClass:"elevation-7 rounded-xl",attrs:{headers:t.headersDetails,items:t.dataDetalleReintegro,loading:t.loadingData,"loading-text":"Cargando... Por Favor espere"}})],1)],1)],1)],1),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v(" Cerrar ")])],1)],1)]}}]),model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{attrs:{medium:""},on:{click:function(e){return t.getSolicitudDetalle(o)}}},[t._v(" "+t._s(t.icons.mdiClipboardList)+" ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.getReintegro()}}},[t._v(" No Existen Datos ")])]},proxy:!0},{key:"item.nameStatus",fn:function(e){var o=e.item;return[a("v-chip",{staticClass:"font-weight-medium",attrs:{small:"",color:t.getColor(o.nameStatus),dark:""}},[t._v(" "+t._s(o.nameStatus)+" ")])]}}],null,!0)}),[a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{length:t.totalPagina,circle:"","total-visible":7},on:{input:function(e){return t.pagination()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]],2)},i=[],n=a("1da1"),r=a("5530"),s=(a("96cf"),a("99af"),a("7db0"),a("94ed")),l=a("bc3a"),c=a.n(l),d=a("0518"),u=a("8a77"),g=a("9a37"),v={data:function(){return{date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,icons:{mdiPencil:s["N"],mdiDelete:s["u"],mdiRefreshCircle:s["O"],mdiEyeCircle:s["y"],mdiWidgets:s["V"],mdiTable:s["Q"],mdiClipboardList:s["m"],mdiClipboardListOutline:s["n"],mdiPageLayoutHeader:s["M"],mdiVuetify:s["S"],mdiMagnify:s["L"]},dialog:!1,dialog2:!1,dialogLoad:!1,dialogDelete:!1,snackbar:!1,overlay:!1,loadingData:!1,loadingProrrateo:!1,switch1:!1,loadDelete:!1,row:null,text:"",color:"",search:"",page:1,totalPagina:0,totalRegistros:0,headers:[{text:"ID",align:"start",sortable:!1,value:"IdSolicitud"},{text:"Centro de Costo",value:"CENTRO_COSTO"},{text:"Fecha de Solicitud",value:"FechaSolicitud"},{text:"Monto",value:"Monto"},{text:"Estado",value:"nameStatus"},{text:"Tipo de Pago",value:"Descripcion"},{text:"Beneficiario",value:"Beneficiario"},{text:"Concepto",value:"Concepto"},{text:"Cuenta de Banco",value:"CUENTA_BANCO"},{text:"Usuario",value:"USUARIO"},{text:"",value:"actions",sortable:!1}],headersDetails:[{text:"ID",align:"start",sortable:!1,value:"IdSolicitud"},{text:"Centro de Costo",value:"CENTRO_COSTO"},{text:"Cuenta Contable",value:"Cuenta_Contable"},{text:"Linea",value:"Linea"},{text:"Concepto",value:"Concepto"},{text:"Fecha Factura",value:"FechaFactura"},{text:"Numero Factura",value:"NumeroFactura"},{text:"Establecimiento",value:"NombreEstablecimiento_Persona"},{text:"Monto",value:"Monto"}],headersConcepto:[{text:"ID",align:"start",sortable:!1,value:"IdConcepto"},{text:"Concepto",value:"strDescripcionConcepto"},{text:"Linea",value:"IdLinea"},{text:"Centro de Costo",value:"strCeCo"},{text:"Cuenta Contable",value:"strCuentaContable"},{text:"Descripcion C. Costo",value:"strDescripcionCeco"},{text:"Establecimiento",value:"strEstablecimiento"},{text:"# Empleados",value:"intEmpleados"},{text:"Monto",value:"decMontoPro"},{text:"Fecha Factura",value:"datFechaFactura"},{text:"",value:"actionsEdit",sortable:!1}],dataReintegro:[],dataDetalleReintegro:[],dataStatus:[],editedIndex:-1,items:[],actions:[],idSolicitud:"",conceptoID:0,perPage:10,statusCodeSol:"",linea:0,ceco:0,permisos:[]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nueva Solicitud":"Actualizar Producto"},imagen:function(){return this.imagenMiniatura},currentTitle:function(){switch(this.step){case 1:return"Informaci√≥n de la Solicitud";case 2:return"Detalles de la Solicitud";default:return"Solicitud Creada"}}},created:function(){this.getPermisos(),this.getReintegro(),this.getStatus()},methods:{deleteItem:function(t){this.idSolicitud=t.IdSolicitud,this.linea=t.Linea,this.ceco=t.CENTRO_COSTO,this.dialogDelete=!0},deleteItemConfirm:function(){this.deleteLinea()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object(r["a"])({},t.defaultItem),t.editedIndex=-1}))},obtenerImagen:function(t){var e=t.target.files[0];this.reintegroItem.Image=e,this.cargarImage(e)},cargarImage:function(t){var e=this,a=new FileReader;a.onload=function(t){e.imagenMiniatura=t.target.result},a.readAsDataURL(t)},closeDelete:function(){this.dialogDelete=!1},getReintegro:function(){var t=this;this.overlay=!0,c.a.defaults.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("tknReiFormunica")),c.a.get("/api/reintegro?perPage?".concat(this.perPage)).then((function(e){null===e.data.data?(t.snackbar=!0,t.text="No existen registros en la base de datos",t.overlay=!1,t.totalPagina=0,t.totalRegistros=0,t.page=1):(t.dataReintegro=e.data.data,t.overlay=!1,t.totalPagina=e.data.last_page,t.totalRegistros=e.data.total,t.page=e.data.current_page)})).catch((function(e){console.log(e.message),t.snackbar=!0,t.text="".concat(e.message," - Revise su conexion"),t.overlay=!1,"invalid"===e.response.data.mensaje&&(u["a"].logout(),t.$router.push({name:"pages-login"}))}))},pagination:function(){var t=this.statusCodeSol;""===t||null===t?this.getReintegroPagination():this.getReintegroPaginationStatus()},getReintegroPagination:function(){var t=this;this.overlay=!0,c.a.defaults.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("tknReiFormunica")),c.a.get("/api/reintegro?perPage=".concat(this.perPage,"&page=").concat(this.page)).then((function(e){null===e.data.data?(t.snackbar=!0,t.text="No existen registros en la base de datos",t.overlay=!1,t.totalPagina=0,t.totalRegistros=0):(t.dataReintegro=e.data.data,t.overlay=!1,t.totalPagina=e.data.last_page,t.totalRegistros=e.data.total)})).catch((function(e){t.snackbar=!0,t.text="".concat(e.message," - Revise su conexion"),t.overlay=!1,"invalid"===e.response.data.mensaje&&(u["a"].logout(),t.$router.push({name:"pages-login"}))}))},getReintegroPaginationStatus:function(){var t=this;this.overlay=!0,c.a.defaults.headers.common.Authorization="Bearer ".concat(sessionStorage.getItem("tknReiFormunica")),c.a.get("/api/reintegro?perPage=".concat(this.perPage,"&page=").concat(this.page,"&status=").concat(this.statusCodeSol)).then((function(e){null===e.data.data?(t.snackbar=!0,t.text="No existen registros en la base de datos",t.overlay=!1,t.totalPagina=0,t.totalRegistros=0):(t.dataReintegro=e.data.data,t.overlay=!1,t.totalPagina=e.data.last_page,t.totalRegistros=e.data.total)})).catch((function(e){t.snackbar=!0,t.text="".concat(e.message," - Revise su conexion"),t.overlay=!1,"invalid"===e.response.data.mensaje&&(u["a"].logout(),t.$router.push({name:"pages-login"}))}))},getSolicitudDetalle:function(t){var e=this;this.dialog2=!0,this.loadingData=!0,this.dataDetalleReintegro=[],this.statusCodeSol=t.nameStatus,this.idSolicitud=t.IdSolicitud,c.a.get("/api/reintegrodetalle/".concat(t.IdSolicitud)).then((function(t){null===t.data?(e.snackbar=!0,e.text="No Existen Registros en la base de datos",e.dataDetalleReintegro=[],e.loadingData=!1):(e.loadingData=!1,e.dataDetalleReintegro=t.data)})).catch((function(t){e.snackbar=!0,e.text=t.data.mensaje,e.dataDetalleReintegro=[],e.loadingData=!1}))},comprobarLogin:function(){var t=g["a"].enumActions(),e=this.permisos.find((function(e){return e.IDACCION==t.VER_SOLICITUDES_DE_TODOS_LOS_USUARIOS}));0!==e&&null!==e&&void 0!==e||this.$router.push("/dashboard"),d["a"].validateToken()||this.$router.push("/")},getPermisos:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=sessionStorage.getItem("userRei"),o=sessionStorage.getItem("roleRei"),e.next=4,c.a.get("/api/permisos/".concat(a,"?role=").concat(o)).then((function(e){t.permisos=e.data.data,t.comprobarLogin()})).catch((function(t){console.log(t)}));case 4:case"end":return e.stop()}}),e)})))()},getStatus:function(){var t=this;c.a.get("/api/status").then((function(e){t.dataStatus=e.data})).catch((function(t){console.log(t)}))},concat:function(t){return"".concat(t.Descripcion," - ").concat(t.CodEstado)},filtrar:function(){var t=this,e=this.statusCodeSol;console.log(e),""===e||null===e?this.getReintegro():(this.overlay=!0,c.a.get("/api/reintegro?status=".concat(e)).then((function(e){t.dataReintegro=e.data.data,t.page=e.data.current_page,t.totalPagina=e.data.last_page,t.totalRegistros=e.data.total,t.overlay=!1})).catch((function(e){t.snackbar=!0,t.text=e,t.overlay=!1})))},getColor:function(t){return"Pendiente"===t?"#0288d1":"Aprobado"===t?"#00838f":"Atendido"===t?"#9e9d24":"En Firma"===t?"#c56000":"Finalizado"===t?"#2e7d32":"Rechazado"===t?"#7f0000":"#102027"}}},m=v,p=a("2877"),h=a("6544"),f=a.n(h),C=a("c6a6"),x=a("8336"),b=a("b0af"),S=a("99d9"),R=a("cc20"),D=a("62ad"),k=a("a523"),_=a("8fea"),y=a("169a"),I=a("ce7e"),P=a("132d"),O=a("a797"),V=a("891e"),E=a("490a"),T=a("0fd9"),w=a("2db4"),F=a("2fa4"),L=a("71d9"),N=a("2a7f"),A=Object(p["a"])(m,o,i,!1,null,null,null);e["default"]=A.exports;f()(A,{VAutocomplete:C["a"],VBtn:x["a"],VCard:b["a"],VCardActions:S["a"],VCardText:S["c"],VCardTitle:S["d"],VChip:R["a"],VCol:D["a"],VContainer:k["a"],VDataTable:_["a"],VDialog:y["a"],VDivider:I["a"],VIcon:P["a"],VOverlay:O["a"],VPagination:V["a"],VProgressCircular:E["a"],VRow:T["a"],VSnackbar:w["a"],VSpacer:F["a"],VToolbar:L["a"],VToolbarTitle:N["a"]})}}]);
//# sourceMappingURL=chunk-2d21ef66.20f5ea77.js.map